<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/styles/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <title>GeoInsight | Home</title>
    
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

    <script>
      $(document).ready(function () {
        $.ajax({
          type: 'POST',
          url: './backend/indexReload.php',
          success: function (response) {
            if (response.is_Subscribed == 1) {
              console.log('User is already subscribed!');
              console.log('Response Session Data: ' , response.sessionData);
              console.log('Response for Logged in: ' ,response.isLoggedIn);
              $('.subscribe-submit').text('Subscribed!').attr('disabled', true);
              $('.subscribe-check').hide();
            }
            else{
              console.log('Response for Logged in: ' ,response.isLoggedIn);
              console.log('Response for Subscribed: ' ,response.is_Subscribed);
            }

            if (response.isLoggedIn) {
                $('.indexReload').text('Log Out').attr('href', './backend/logoutProcess.php');
                $('.indexCart').show();
            } else{
              $('.indexReload').text('Login').attr('href', 'login.html');
              $('.indexCart').hide();
            }
          },
          error: function () {
            console.error('AJAX request failed');
          }
        });
    
        $('form').submit(function (e) {
          e.preventDefault();
          var formData = $(this).serialize();
          $.ajax({
            type: 'POST',
            url: './backend/subscribeProcess.php',
            data: formData,
            success: function (response) {
              if (response.message === "User already Subscribed") {
                console.log('User is already subscribed!');
                console.log('Response Session Data: ' , response.sessionData);
                $('.subscribe-submit').text('Subscribed!');
                $('.subscribe-check').hide();
              } else if (response.message === "User Subscribed") {
                console.log('User subscribed successfully!');
                console.log('Response Session Data: ' , response.sessionData);
                $('.subscribe-submit').text('Subscribed!');
                $('.subscribe-check').hide();
              } else if(response.message === "User not logged in.") {
                window.location.href = "login.html";
              }
            },
            error: function () {
              console.error('AJAX request failed');
            }
          });
        });
      });
    </script>
    
    
</head>

<body>
    <header>
        <div class="logo">
          <img src="./assets/images/logo.png" alt="">
          <h2>GeoInsight</h2>
        </div>
        <input type="checkbox" id="nav_check" hidden>
        <nav>
            <ul>
                <li>
                    <a href="index.html" class="active">Home</a>
                </li>
                <li>
                    <a href="aboutus.html">About Us</a>
                </li>
                <li>
                  <a href="Page/page.html">Products</a>
                </li>
                <li>
                  <a href="contactus.html">Contact Us</a>
                </li>
                <li>
                  <a href="login.html" class="indexReload">Login</a>
                </li>
                <li>
                  <a href="cart.html" class="header-button indexCart">My Cart</a>
                </li>
            </ul>
        </nav>
        <label for="nav_check" class="hamburger">
            <div></div>
            <div></div>
            <div></div>
        </label>
    </header>
    
    <main>
      <!-- hero banner -->
      <div class="hero">
        <img src="./assets/images/banner.png" alt="hero banner" class="hero-img">
      </div>

      <!-- about us -->
      <div class="about-us">
        <div class="grid-container">
          <div>
            <img src="./assets/images/india-home.jpg" alt="" class="india-home">
          </div>
          <div class="about-info">
            <h1 class="about-text">About Us</h1>
            <p>
              We're dedicated to connecting the dots between skilled artisans in rustic landscapes and savvy consumers looking for geotagged products that showcase the beauty of Indian art and culture. Our mission is clear: boost rural economies by bringing authentic craftsmanship to niche buyers, all while championing and preserving India's vibrant heritage. Join us in creating a marketplace where tradition and innovation blend seamlessly, celebrating the essence of Indian culture in every purchase.
            </p>
            <a href="aboutus.html" target="_blank" class="about-button">Read More</a>
          </div>
        </div>
      </div>

      <!-- featured products -->
      <div class="featured-products">
        <h1 class="featured-products-text">Featured Products</h1>
        <div class="grid-featured-products">
          <div class="main-product">
            <img src="./assets/images/featured_1_home_page.png" alt="featured 1" class="featured-product-home">
            <h1 class="featured-product-name">Ram Vivah</h1>
            <div class="featured-product-price">
              <del>&#8377; 4000</del>
              <p class="featured-price">&#8377; 3600</p>
            </div>
          </div>
          <div>
            <img src="./assets/images/featured_2_home_page.jpeg" alt="" class="featured-product-home">
            <h1 class="featured-product-name">Beautiful Tea Coaster</h1>
            <div class="featured-product-price">
              <del>&#8377; 400</del>
              <p class="featured-price">&#8377; 336</p>
            </div>
          </div>
          <div>
            <img src="./assets/images/featured_3_home_page.jpeg" alt="" class="featured-product-home">
            <h1 class="featured-product-name">Phulkari Dupatta</h1>
            <div class="featured-product-price">
              <del>&#8377; 825</del>
              <p class="featured-price">&#8377; 693</p>
            </div>
          </div>
          <div>
            <img src="./assets/images/featured_4_home_page.jpg" alt="" class="featured-product-home">
            <h1 class="featured-product-name">Premium Biryani & Ghee</h1>
            <div class="featured-product-price">
              <del>&#8377; 714</del>
              <p class="featured-price">&#8377; 675</p>
            </div>
          </div>
          <div>
            <img src="./assets/images/featured_5_home_page.jpg" alt="" class="featured-product-home">
            <h1 class="featured-product-name">Zari Zardozi Bag</h1>
            <div class="featured-product-price">
              <del>&#8377; 1200</del>
              <p class="featured-price">&#8377; 882</p>
            </div>
          </div>
          <div>
            <img src="./assets/images/featured_6_home_pagejpg.jpg" alt="" class="featured-product-home">
            <h1 class="featured-product-name">Pashmina Kani</h1>
            <div class="featured-product-price">
              <del>&#8377; 2000</del>
              <p class="featured-price">&#8377; 1680</p>
            </div>
          </div>
          <div>
            <img src="./assets/images/featured_7_home_page.jpg" alt="" class="featured-product-home">
            <h1 class="featured-product-name">Darjeeling Gree Team</h1>
            <div class="featured-product-price">
              <del>&#8377; 2000</del>
              <p class="featured-price">&#8377; 1890</p>
            </div>
          </div>
          <div>
            <img src="./assets/images/featured_8_home_page.jpg" alt="" class="featured-product-home">
            <h1 class="featured-product-name">Decorative Hanging Lamp</h1>
            <div class="featured-product-price">
              <del>&#8377; 650</del>
              <p class="featured-price">&#8377; 536</p>
            </div>
          </div>
        </div>
      </div>

      <!-- subscribe -->
      <div class="subscribe">
        <form action="./backend/subscribeProcess.php" method="POST">
          <h1 class="subscribe-heading">Let's Keep In Touch</h1>
          <p class="subscribe-subtext">Subscribe to keep up with fresh news and exciting updates!</p>
          <div class="grid-subscribe">
            <div>
              <button type="submit" class="subscribe-submit">Yes! I would like to Susbcribe!</button>
            </div>
          </div>
          <div class="subscribe-check">
            <input type="checkbox" name="check" id="" class="subscribe-box" required>
            I agree to my email address being stored and uses to receive monthly newsletter
          </div>
        </form>
      </div>
      
      <!-- footer -->
      <div class="footer">
        <div class="grid-footer">
          <div>
            <h1>GeoInsight</h1>
          </div>
          <div class="footer-pages">
            <a href="index.html">Home</a>
            <a href="aboutus.html">About Us</a>
            <a href="./Page/page.html">Products</a>
            <a href="contactus.html">Contact Us</a>
            <a href="login.html">Login</a>
            <a href="cart.html">My Cart</a>
          </div>
        </div>
        <hr class="footer-divider">
        <h2 class="footer-copyright">&copy; 2024 GeoInsight. All Rights Reserved.</h2>
      </div>
    </main>
</body>
</html>